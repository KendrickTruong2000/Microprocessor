
as12, an absolute assembler for Motorola MCU's, version 1.2h

                        ;Lab 6 & 7
                        ;--- Define Equation Section ---
0001                    DRB     EQU     $0001
0003                    DDRB    EQU     $0003
0258                    DRP     EQU     $0258
025a                    DDRP    EQU     $025A
0268                    DRJ     EQU     $0268
026a                    DDRJ    EQU     $026A
ee88                    PRINTF  EQU     $EE88
ee84                    GETCHAR EQU     $EE84
ee86                    PUTCHAR EQU     $EE86
                        
                        ;--- Main Program
1000                            ORG     $1000
1000 86 ff                      LDAA    #$FF
1002 5a 03                      STAA    DDRB
1004 7a 02 5a                   STAA    DDRP    ;Set PORT B, P to output.
1007 7a 02 6a                   STAA    DDRJ
100a 86 00                      LDAA    #$00
100c 7a 02 58                   STAA    DRP     ;Turn ALL 7-segment off
                        ;START   LDX     GETCHAR
                        ;        JSR     $00,X
                        ;        STAB    TARGET
                        ;        CMPB    #$1B
                        ;        BEQ     CHECK
                        ;        STAA    0,X
                        ;        INX
                        ;        BRA     START
                        ;CHECK   CLR     0,X
                        ;        LDX     #BUFFER
                        ;        LDY     #PASS
100f fc 11 11           START   LDD     PROMPT
1012 fe ee 88                   LDX     PRINTF
1015 15 00                      JSR     $00,X
1017 fe ee 84           	LDX     GETCHAR
101a 15 00                      JSR     $00,X
101c 7b 11 10                   STAB    TARGET
101f c1 74                      CMPB    #$74
1021 27 0a                      BEQ     FINISH
1023 c1 75                      CMPB    #$75
1025 27 28                      BEQ     WRONG
1027 c1 64                      CMPB    #$64
1029 27 03                      BEQ     MATCH
102b 20 e2                      BRA     START
102d 3f                 FINISH  SWI
                        ;COMPARE LDAA    0,X
                        ;        LDAB    0,Y
                        ;        CMPA    #0
                        ;        BEQ     MATCH
                        ;        CBA
                        ;        BNE     WRONG
                        ;        INX
                        ;        INY
                        ;        BRA     COMPARE
102e cc 11 28           MATCH   LDD     #SUCCESS
1031 fe ee 88                   LDX     PRINTF
1034 15 00                      JSR     0,X
1036 16 10 69                   JSR     WAIT6
1039 b7 20                      TPA
103b 84 af                      ANDA    #%10101111
103d b7 02                      TAP
103f 86 40                      LDAA    #$40
1041 5a 1e                      STAA    $001E
1043 cf 20 00                   LDS     #$2000
1046 cc 10 58                   LDD     #IRQISR ;Call maskable interrupt
1049 7c 3e 72                   STD     $3E72
104c 20 fe              HERE    BRA     HERE
104e 3d                         RTS
104f cc 11 57           WRONG   LDD     #FAIL
1052 fe ee 88                   LDX     PRINTF
1055 15 00                      JSR     0,X
1057 3d                         RTS;
1058 86 ff              IRQISR  LDAA    #$FF
105a 5a 03                      STAA    DDRB
105c 7a 02 5a                   STAA    DDRP
105f 7a 02 6a                   STAA    DDRJ
1062 7a 02 58                   STAA    DRP
1065 16 10 e2                   JSR     BLINK
1068 0b                         RTI
1069 86 fe              WAIT6   LDAA    #$FE
106b 7a 02 58                   STAA    DRP
106e ce 11 06                   LDX     #NUMS
1071 a6 00                      LDAA    $00,X
1073 5a 01                      STAA    DRB
1075 16 10 f6                   JSR     FREQ2
1078 16 10 f6                   JSR     FREQ2
107b 16 10 f6                   JSR     FREQ2
107e 16 10 f6                   JSR     FREQ2
1081 a6 01                      LDAA    $01,X
1083 5a 01                      STAA    DRB
1085 16 10 f6                   JSR     FREQ2
1088 16 10 f6                   JSR     FREQ2
108b 16 10 f6                   JSR     FREQ2
108e 16 10 f6                   JSR     FREQ2
1091 a6 02                      LDAA    $02,X
1093 5a 01                      STAA    DRB
1095 16 10 f6                   JSR     FREQ2
1098 16 10 f6                   JSR     FREQ2
109b 16 10 f6                   JSR     FREQ2
109e 16 10 f6                   JSR     FREQ2
10a1 a6 03                      LDAA    $03,X
10a3 5a 01                      STAA    DRB
10a5 16 10 f6                   JSR     FREQ2
10a8 16 10 f6                   JSR     FREQ2
10ab 16 10 f6                   JSR     FREQ2
10ae 16 10 f6                   JSR     FREQ2
10b1 a6 04                      LDAA    $04,X
10b3 5a 01                      STAA    DRB
10b5 16 10 f6                   JSR     FREQ2
10b8 16 10 f6                   JSR     FREQ2
10bb 16 10 f6                   JSR     FREQ2
10be 16 10 f6                   JSR     FREQ2
10c1 a6 05                      LDAA    $05,X
10c3 5a 01                      STAA    DRB
10c5 16 10 f6                   JSR     FREQ2
10c8 16 10 f6                   JSR     FREQ2
10cb 16 10 f6                   JSR     FREQ2
10ce 16 10 f6                   JSR     FREQ2
10d1 a6 06                      LDAA    $06,X
10d3 5a 01                      STAA    DRB
10d5 16 10 f6                   JSR     FREQ2
10d8 16 10 f6                   JSR     FREQ2
10db 16 10 f6                   JSR     FREQ2
10de 16 10 f6                   JSR     FREQ2
10e1 3d                         RTS
10e2 86 0a              BLINK   LDAA    #10
10e4                    BLINK_LOOP
10e4 c6 ff                      LDAB    #%11111111
10e6 5b 01                      STAB    DRB
10e8 16 10 f6                   JSR     FREQ2
10eb c6 00                      LDAB    #%00000000
10ed 5b 01                      STAB    DRB
10ef 16 10 f6                   JSR     FREQ2
10f2 43                         DECA
10f3 26 ef                      BNE     BLINK_LOOP
10f5 3d                         RTS
10f6 36                 FREQ2   PSHA
10f7 35                         PSHY
10f8 86 fa                      LDAA    #250
10fa                    DELAY_LOOP
10fa cd 17 70                   LDY     #6000
10fd                    FREQ_DELAY
10fd 03                         DEY
10fe 26 fd                      BNE     FREQ_DELAY
1100 43                         DECA
1101 26 f7                      BNE     DELAY_LOOP
1103 31                         PULY
1104 32                         PULA
1105 3d                         RTS
                        
                                END
                        ;DATA
1106 3f 06 5b 4f 66 6d  NUMS    FCB     $3F,$06,$5B,$4F,$66,$6D,$7D,$07,$7F,$6F
     7d 07 7f 6f
1110                    TARGET  RMB     1
1111 45 6e 74 65 72 20  PROMPT  FCC     "Enter Password: "
     50 61 73 73 77 6f
     72 64 3a 20
1121 0d 0a 00                   FCB     13,10,0
1124 6b 65 79           PASS    FCC     "key"
1127 00                         FCB     0
1128 50 72 6f 63 65 73  SUCCESS FCC     "Processing, the IRQ will be enabled in 6 sec"
     73 69 6e 67 2c 20
     74 68 65 20 49 52
     51 20 77 69 6c 6c
     20 62 65 20 65 6e
     61 62 6c 65 64 20
     69 6e 20 36 20 73
     65 63
1154 0d 0a 00           	FCB	13,10,0
1157 59 4f 55 52 20 41  FAIL    FCC     "YOUR ACCOUNT IS LOCKED"
     43 43 4f 55 4e 54
     20 49 53 20 4c 4f
     43 4b 45 44
116d 0d 0a 00           	FCB	13,10,0
1170                    BUFFER  RMB     10
                                
                        

Executed: Wed Oct 08 17:37:30 2025
Total cycles: 437, Total bytes: 367
Total errors: 0, Total warnings: 0
